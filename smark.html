<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

<title>Smark</title>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Wire+One' rel='stylesheet' type='text/css'>


<style>
/* reset.css */
html {margin:0;padding:0;border:0;}
body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, code, del, dfn, em, img, q, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, dialog, figure, footer, header, hgroup, nav, section {margin:0;padding:0;border:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;}
article, aside, dialog, figure, footer, header, hgroup, nav, section {display:block;}
body {line-height:1.5;background:white;}
table {border-collapse:separate;border-spacing:0;}
caption, th, td {text-align:left;font-weight:normal;float:none !important;}
table, th, td {vertical-align:middle;}
blockquote:before, blockquote:after, q:before, q:after {content:'';}
blockquote, q {quotes:"" "";}
a img {border:none;}
:focus {outline:0;}

body {
    background: #000;
    color: #9ba09d;
    font-size: 50px;
    font-family: 'Wire One';
}
h1,h2{
    width: 800px;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    border:0;
    padding:0;
}

i {
    font-style: normal;

}
</style>

<script>
$(function(){
    /*
    Cufon.replace('h1');
    Cufon.replace('h2',{fontFamily:"TitilliumText22L Th"}); 
    */
    var $slide = $("h1,h2");
    $slide.css("margin-top", "-"+$slide.height()/2 + "px");
    $slide.css("margin-left", "-"+$slide.width()/2 + "px");


    var scolor = (function(){
        var scolor = {
            "r": 229,
            "g": 73,
            "b": 100
        },
        color = {
            "r": scolor["r"],
            "g": scolor["g"],
            "b": scolor["b"]
        }


        var currColor = "b";

        function nextColor() {
            if(color[currColor] == scolor["b"] || color[currColor] == scolor["g"])
                color[currColor] = scolor["r"];
            else
                color[currColor] = scolor["g"];

            // set currColor for next iteration
            if(currColor == "r")
                currColor = "g";
            else if(currColor == "g")
                currColor = "b";
            else if(currColor == "b")
                currColor = "r";

        }

        function random(){
            var rand = Math.floor(Math.random()*51);
            for(var i=0; i<rand; i++) {
                nextColor();
            }

            return color;
        }
        return {
            random: random
        };
    })();

    $("h1, i").each(function(){
        var color = scolor.random();
        $(this).css("color", "rgb("+color["r"]+","+color["g"]+","+color["b"]+")");    

    });

    // go through all slides and split them
    var slides = [],
        headers = ["h1", "h2"],
        slide;
    var $slide = $("#slide");
    $slide.children().each(function() {
        var nodeName = this.nodeName.toLowerCase().trim();
        if($.inArray(nodeName, headers) > -1) { // it's a header
            slide = $("<div></div>");
            slide.hide();
            slides.push(slide.get(0));
        } 
        slide.append($(this).clone());
    });
    $slide.html(""); // clear it out

    // add the slides to document
    $.each(slides, function(i) {
        if(i == 0) $(this).show(); // show first
        $slide.append(this);
    });

    var nav = (function(){
        var currHeader = 0;
        function next() {
            $(slides[currHeader]).hide(); // hide the one before

            currHeader++;
            if(!slides[currHeader])
                currHeader--;

            $(slides[currHeader]).show();
        }
        function prev() {
            $(slides[currHeader]).hide(); // hide the one before

            currHeader--;
            if(!slides[currHeader])
                currHeader++;

            $(slides[currHeader]).show();
        }

        return {
            next: next,
            prev: prev
        };
    })();

    // when clicking the document go through header
    $(document).click(function(e){
        nav.next();

        e.stopPropagation();
        e.preventDefault();
    });
    $(document).keydown(function(e){
        if(e.keyCode == 37) { //left
            nav.prev();
        } else if(e.keyCode == 39) { // right
            nav.next();
        }
    });
});

</script>


</head>
<body>
<div id="slide">
<h1>
    Culture
</h1>
<h2>
    Create beautiful <i>slides</i> directly with <i>Markdown</i>
</h2>
<h1>Background</h1>
<ul>
<li>You are god
<li>Flabbel
</ul>
</div>

</body>
</html>
